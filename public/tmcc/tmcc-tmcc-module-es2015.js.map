{"version":3,"sources":["./src/mbaas/core/service/gtm/gtm.service.ts","./src/mbaas/tmcc/base/base.component.ts","./src/mbaas/tmcc/tmcc-routing.module.ts","./src/mbaas/tmcc/tmcc.module.ts"],"names":[],"mappings":"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","file":"tmcc-tmcc-module-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GtmService {\r\n\r\n  constructor() { }\r\n\r\n  createGtm(\r\n    window: any,\r\n    eventCategory: string,\r\n    eventAction: string,\r\n    eventLabel: string,\r\n    eventvalue: string = '',\r\n    event: string = 'eventClick'\r\n    ) {\r\n    window.dataLayer.push({\r\n      eventCategory,\r\n      eventAction,\r\n      eventLabel,\r\n      eventvalue,\r\n      event\r\n    });\r\n  }\r\n}\r\n","import { Component, OnDestroy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { WorkflowService } from 'src/mbaas/core/service/workflow/workflow.service';\r\nimport { SendInformationService } from 'src/mbaas/core/service/SendInformation/send-information.service';\r\nimport { Subscription, Observable, of } from 'rxjs';\r\nimport { PAYLOAD, ONCALL, ALIADO, PAIS, MODULO, CANAL, LENGUAJE, CODIGO_PAIS, PROPERTY } from 'src/mbaas/mbaas.const';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { ValidationRulesService } from 'src/mbaas/core/service/validationRules/validation-rules.service';\r\nimport { CatalogoService } from 'src/mbaas/core/service/catalogo/catalogo.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { ModalBuilderService } from 'src/mbaas/core/service/ModalBuilder/modal-builder.service';\r\nimport { GtmService } from 'src/mbaas/core/service/gtm/gtm.service';\r\n\r\n@Component({\r\n  template: ''\r\n})\r\nexport class BaseComponent implements OnDestroy {\r\n\r\n  public scroll: number;\r\n\r\n  public disableButton: boolean;\r\n  public stepId: string;\r\n  private payloadSubscription: Subscription;\r\n\r\n  public payload: { [key: string]: any | string };\r\n  public formulario: FormGroup;\r\n\r\n  public aliado: string;\r\n  public pais: string;\r\n  public modulo: string;\r\n  public canal: string;\r\n  public lenguaje: string;\r\n\r\n  constructor(\r\n    private router: ActivatedRoute,\r\n    public translate: TranslateService,\r\n    public workflow: WorkflowService,\r\n    public obser: SendInformationService<any>,\r\n    public formBuilder: FormBuilder,\r\n    public rules: ValidationRulesService,\r\n    public catalogo: CatalogoService,\r\n    public modalBuilder: ModalBuilderService,\r\n    public gtmService: GtmService\r\n  ) {\r\n    this.scroll = 0;\r\n    this.disableButton = false;\r\n    this.stepId = '';\r\n    this.formulario = this.formBuilder.group({});\r\n    this.payloadSubscription = this.obser.getData(PAYLOAD).subscribe(this.responsePayload());\r\n    this.router.data.subscribe(this.responseRouteData());\r\n    this.obser.getData(ONCALL).subscribe(this.responseFinisOnCall());\r\n    this.aliado = this.obser.lastValue(ALIADO);\r\n    this.pais = this.obser.lastValue(PAIS);\r\n    this.modulo = this.obser.lastValue(MODULO);\r\n    this.canal = this.obser.lastValue(CANAL);\r\n    this.lenguaje = this.obser.lastValue(LENGUAJE);\r\n  }\r\n\r\n  responsePayload(): (response: { [key: string]: any; }) => void {\r\n    return (response: { [key: string]: any; }) => {\r\n      if (response) {\r\n        this.payload = response;\r\n      }\r\n    };\r\n  }\r\n\r\n  responseFinisOnCall(): (response: any) => void {\r\n    return response => {\r\n      this.disableButton = response ? true : false;\r\n    };\r\n  }\r\n\r\n  responseRouteData(): (data: { [key: string]: any; }) => void {\r\n    return (data: { [key: string]: any; }) => {\r\n      this.stepId = data.stepId;\r\n      // TODO: Descomentar cuando se habilite en catalogo\r\n      // this.translate.use(`${this.stepId}?pais=${this.pais}&lenguaje=${this.lenguaje}`);\r\n      this.translate.use(`${this.stepId}`);\r\n    };\r\n  }\r\n\r\n  onBack(payload: () => ({ [key: string]: any })): void {\r\n    this.disableButton = true;\r\n    this.workflow.workflow(this.stepId, payload());\r\n  }\r\n\r\n  onCall(payload: () => ({[key: string]: any}) ): void {\r\n    this.disableButton = true;\r\n    this.workflow.workflow(this.stepId, payload());\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.obser.unSubscribe(this.payloadSubscription);\r\n  }\r\n\r\n  setRules(rules: { [controlName: string]: any }, validators: { [controlName: string]: any } = {}) {\r\n    this.formulario = this.formBuilder.group(rules, validators);\r\n  }\r\n\r\n  params(keys: Array<any>): Params {\r\n    const params: Params = {};\r\n    keys.map(item => {\r\n      const key = typeof item === 'object' ? Object.keys(item).toString() : item;\r\n      params[key] = key === PROPERTY ? item.property : this.obser.lastValue(item);\r\n      return item;\r\n    });\r\n    if (!params.limit) {\r\n      params.limit = Infinity;\r\n    }\r\n    return params;\r\n  }\r\n\r\n  /* Retorna un arreglo de observables de los catalogos que se envian. */\r\n  catalogs(catalogs: Array<{ [key: string]: any }>): Array<Observable<any>> {\r\n    const observables: Array<Observable<any>> = [];\r\n    catalogs.map(item => {\r\n      const obser = this.catalogo.data((item.kind), this.params(item.params), item.filter || null).pipe(catchError(err => of([])));\r\n      observables.push(obser);\r\n    });\r\n    return observables;\r\n  }\r\n\r\n  /* Mapea los catalogos y agrega las propiedades 'value' y 'label'. */\r\n  mapperCatalog(data: Array<{ [key: string]: any }>) {\r\n    return data ? data.map((p: any) =>\r\n      Object.assign({\r\n        mbaasCode: p.mbaasCode || p.mbassCode,\r\n        value: p.value || p.codigo || p.valor || p.code,\r\n        label: p.label || p.nombre || p.descripcion || p.texto\r\n      }, p))\r\n      : [];\r\n  }\r\n\r\n  /* Mapea el catalogo de ciudades y agrega en la propiedad 'value' el codigo concatenado. */\r\n  mappperCatalogCity(data: Array<{ [key: string]: any }>) {\r\n    return data ? data.map((p: any) =>\r\n      Object.assign({\r\n        mbaasCode: p.mbaasCode || p.mbassCode,\r\n        value: `${CODIGO_PAIS}:${p.codDepto}:${p.codigo}`,\r\n        label: p.label || p.nombre || p.descripcion || p.texto\r\n      }, p))\r\n      : [];\r\n  }\r\n\r\n  /* Verifica si existe la propiedad enviada en cualquier nivel del objeto. */\r\n  hasProperty(object: { [key: string]: any }, propertyName: string): boolean {\r\n    if (Object.keys(object).length === 0) {\r\n      return false;\r\n    }\r\n    if (object.hasOwnProperty(propertyName)) {\r\n      return true;\r\n    }\r\n    return Object.keys(object)\r\n      .map(prop => {\r\n        if (typeof object[prop] === 'object') {\r\n          return this.hasProperty(object[prop], propertyName);\r\n        } else {\r\n          return (prop === propertyName);\r\n        }\r\n      })\r\n      .reduce((previousValue, currentValue, index, array) => {\r\n        return previousValue || currentValue;\r\n      }\r\n      );\r\n  }\r\n\r\n  /* Revisa los campos 'DISABLED' del formulario y les setea un valor vacio. */\r\n  formData(formulario: any = this.formulario): { [key: string]: any } {\r\n    const form = formulario.controls;\r\n    Object.keys(form).forEach(key => {\r\n      if (Array.isArray(form[key].controls)) {\r\n        form[key].controls.forEach(formGroup => this.formData(formGroup));\r\n      } else if (form[key].hasOwnProperty('controls')) {\r\n        this.formData(form[key]);\r\n      }\r\n      if (form[key].status === 'DISABLED') {\r\n        switch (typeof form[key].value) {\r\n          case 'string':\r\n            form[key].setValue('');\r\n            break;\r\n          case 'number':\r\n            form[key].setValue(0);\r\n            break;\r\n          case 'boolean':\r\n            form[key].setValue(false);\r\n            break;\r\n          default:\r\n            form[key].setValue('');\r\n            break;\r\n        }\r\n      }\r\n    });\r\n    return formulario.getRawValue();\r\n  }\r\n\r\n  sortArray(data: Array<any>, key: string): Array<any> {\r\n    return data.sort((a, b) => (a[key] > b[key]) ? 1 : -1);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { MBAAS_ROUTING, MBAAS_STEPS } from '../mbaas.route.const';\r\nimport { AccessProcessGuard } from '../core/guard/access-process.guard';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'beneficios',\r\n    loadChildren: () => import('./beneficios/beneficios.module').then(mod => mod.BeneficiosModule),\r\n    canLoad: [\r\n      // AccessProcessGuard\r\n    ],\r\n    data: {\r\n      child: [\r\n        MBAAS_STEPS.BEN001.STEP\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    path: 'evaluador',\r\n    loadChildren: () => import('./evaluador/evaluador.module').then(mod => mod.EvaluadorModule),\r\n    canLoad: [\r\n      // AccessProcessGuard\r\n    ],\r\n    data: {\r\n      child: [\r\n        MBAAS_STEPS.EVA001.STEP,\r\n        MBAAS_STEPS.EVA002.STEP\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    path: 'compra-cartera',\r\n    loadChildren: () => import('./compra-cartera/compra-cartera.module').then(mod => mod.CompraCarteraModule),\r\n    canLoad: [\r\n      // AccessProcessGuard\r\n    ],\r\n    data: {\r\n      child: [\r\n        MBAAS_STEPS.CCC001.STEP,\r\n        MBAAS_STEPS.CCC002.STEP,\r\n        MBAAS_STEPS.CCC003.STEP\r\n      ]\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class TmccRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TmccRoutingModule } from './tmcc-routing.module';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { BaseComponent } from './base/base.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [BaseComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TmccRoutingModule,\r\n  ],\r\n  providers: []\r\n})\r\nexport class TmccModule { }\r\n"],"sourceRoot":"webpack:///"}