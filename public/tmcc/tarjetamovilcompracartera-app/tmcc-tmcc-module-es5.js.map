{"version":3,"sources":["src/mbaas/core/service/gtm/gtm.service.ts","src/mbaas/tmcc/base/base.component.ts","src/mbaas/tmcc/tmcc-routing.module.ts","src/mbaas/tmcc/tmcc.module.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GtmService {\r\n\r\n  constructor() { }\r\n\r\n  createGtm(\r\n    window: any,\r\n    eventCategory: string,\r\n    eventAction: string,\r\n    eventLabel: string,\r\n    eventvalue: string = '',\r\n    event: string = 'eventClick'\r\n    ) {\r\n    window.dataLayer.push({\r\n      eventCategory,\r\n      eventAction,\r\n      eventLabel,\r\n      eventvalue,\r\n      event\r\n    });\r\n  }\r\n}\r\n","import { Component, OnDestroy, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute, Params } from '@angular/router';\r\nimport { WorkflowService } from 'src/mbaas/core/service/workflow/workflow.service';\r\nimport { SendInformationService } from 'src/mbaas/core/service/SendInformation/send-information.service';\r\nimport { Subscription, Observable, of } from 'rxjs';\r\nimport { PAYLOAD, ONCALL, ALIADO, PAIS, MODULO, CANAL, LENGUAJE, CODIGO_PAIS, PROPERTY } from 'src/mbaas/mbaas.const';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { ValidationRulesService } from 'src/mbaas/core/service/validationRules/validation-rules.service';\r\nimport { CatalogoService } from 'src/mbaas/core/service/catalogo/catalogo.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { ModalBuilderService } from 'src/mbaas/core/service/ModalBuilder/modal-builder.service';\r\nimport { GtmService } from 'src/mbaas/core/service/gtm/gtm.service';\r\n\r\n@Component({\r\n  template: ''\r\n})\r\nexport class BaseComponent implements OnDestroy {\r\n\r\n  public scroll: number;\r\n\r\n  public disableButton: boolean;\r\n  public stepId: string;\r\n  private payloadSubscription: Subscription;\r\n\r\n  public payload: { [key: string]: any | string };\r\n  public formulario: FormGroup;\r\n\r\n  public aliado: string;\r\n  public pais: string;\r\n  public modulo: string;\r\n  public canal: string;\r\n  public lenguaje: string;\r\n\r\n  constructor(\r\n    private router: ActivatedRoute,\r\n    public translate: TranslateService,\r\n    public workflow: WorkflowService,\r\n    public obser: SendInformationService<any>,\r\n    public formBuilder: FormBuilder,\r\n    public rules: ValidationRulesService,\r\n    public catalogo: CatalogoService,\r\n    public modalBuilder: ModalBuilderService,\r\n    public gtmService: GtmService\r\n  ) {\r\n    this.scroll = 0;\r\n    this.disableButton = false;\r\n    this.stepId = '';\r\n    this.formulario = this.formBuilder.group({});\r\n    this.payloadSubscription = this.obser.getData(PAYLOAD).subscribe(this.responsePayload());\r\n    this.router.data.subscribe(this.responseRouteData());\r\n    this.obser.getData(ONCALL).subscribe(this.responseFinisOnCall());\r\n    this.aliado = this.obser.lastValue(ALIADO);\r\n    this.pais = this.obser.lastValue(PAIS);\r\n    this.modulo = this.obser.lastValue(MODULO);\r\n    this.canal = this.obser.lastValue(CANAL);\r\n    this.lenguaje = this.obser.lastValue(LENGUAJE);\r\n  }\r\n\r\n  responsePayload(): (response: { [key: string]: any; }) => void {\r\n    return (response: { [key: string]: any; }) => {\r\n      if (response) {\r\n        this.payload = response;\r\n      }\r\n    };\r\n  }\r\n\r\n  responseFinisOnCall(): (response: any) => void {\r\n    return response => {\r\n      this.disableButton = response ? true : false;\r\n    };\r\n  }\r\n\r\n  responseRouteData(): (data: { [key: string]: any; }) => void {\r\n    return (data: { [key: string]: any; }) => {\r\n      this.stepId = data.stepId;\r\n      // TODO: Descomentar cuando se habilite en catalogo\r\n      // this.translate.use(`${this.stepId}?pais=${this.pais}&lenguaje=${this.lenguaje}`);\r\n      this.translate.use(`${this.stepId}`);\r\n    };\r\n  }\r\n\r\n  onBack(payload: () => ({ [key: string]: any })): void {\r\n    this.disableButton = true;\r\n    this.workflow.workflow(this.stepId, payload());\r\n  }\r\n\r\n  onCall(payload: () => ({[key: string]: any}) ): void {\r\n    this.disableButton = true;\r\n    this.workflow.workflow(this.stepId, payload());\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.obser.unSubscribe(this.payloadSubscription);\r\n  }\r\n\r\n  setRules(rules: { [controlName: string]: any }, validators: { [controlName: string]: any } = {}) {\r\n    this.formulario = this.formBuilder.group(rules, validators);\r\n  }\r\n\r\n  params(keys: Array<any>): Params {\r\n    const params: Params = {};\r\n    keys.map(item => {\r\n      const key = typeof item === 'object' ? Object.keys(item).toString() : item;\r\n      params[key] = key === PROPERTY ? item.property : this.obser.lastValue(item);\r\n      return item;\r\n    });\r\n    if (!params.limit) {\r\n      params.limit = Infinity;\r\n    }\r\n    return params;\r\n  }\r\n\r\n  /* Retorna un arreglo de observables de los catalogos que se envian. */\r\n  catalogs(catalogs: Array<{ [key: string]: any }>): Array<Observable<any>> {\r\n    const observables: Array<Observable<any>> = [];\r\n    catalogs.map(item => {\r\n      const obser = this.catalogo.data((item.kind), this.params(item.params), item.filter || null).pipe(catchError(err => of([])));\r\n      observables.push(obser);\r\n    });\r\n    return observables;\r\n  }\r\n\r\n  /* Mapea los catalogos y agrega las propiedades 'value' y 'label'. */\r\n  mapperCatalog(data: Array<{ [key: string]: any }>) {\r\n    return data ? data.map((p: any) =>\r\n      Object.assign({\r\n        mbaasCode: p.mbaasCode || p.mbassCode,\r\n        value: p.value || p.codigo || p.valor || p.code,\r\n        label: p.label || p.nombre || p.descripcion || p.texto\r\n      }, p))\r\n      : [];\r\n  }\r\n\r\n  /* Mapea el catalogo de ciudades y agrega en la propiedad 'value' el codigo concatenado. */\r\n  mappperCatalogCity(data: Array<{ [key: string]: any }>) {\r\n    return data ? data.map((p: any) =>\r\n      Object.assign({\r\n        mbaasCode: p.mbaasCode || p.mbassCode,\r\n        value: `${CODIGO_PAIS}:${p.codDepto}:${p.codigo}`,\r\n        label: p.label || p.nombre || p.descripcion || p.texto\r\n      }, p))\r\n      : [];\r\n  }\r\n\r\n  /* Verifica si existe la propiedad enviada en cualquier nivel del objeto. */\r\n  hasProperty(object: { [key: string]: any }, propertyName: string): boolean {\r\n    if (Object.keys(object).length === 0) {\r\n      return false;\r\n    }\r\n    if (object.hasOwnProperty(propertyName)) {\r\n      return true;\r\n    }\r\n    return Object.keys(object)\r\n      .map(prop => {\r\n        if (typeof object[prop] === 'object') {\r\n          return this.hasProperty(object[prop], propertyName);\r\n        } else {\r\n          return (prop === propertyName);\r\n        }\r\n      })\r\n      .reduce((previousValue, currentValue, index, array) => {\r\n        return previousValue || currentValue;\r\n      }\r\n      );\r\n  }\r\n\r\n  /* Revisa los campos 'DISABLED' del formulario y les setea un valor vacio. */\r\n  formData(formulario: any = this.formulario): { [key: string]: any } {\r\n    const form = formulario.controls;\r\n    Object.keys(form).forEach(key => {\r\n      if (Array.isArray(form[key].controls)) {\r\n        form[key].controls.forEach(formGroup => this.formData(formGroup));\r\n      } else if (form[key].hasOwnProperty('controls')) {\r\n        this.formData(form[key]);\r\n      }\r\n      if (form[key].status === 'DISABLED') {\r\n        switch (typeof form[key].value) {\r\n          case 'string':\r\n            form[key].setValue('');\r\n            break;\r\n          case 'number':\r\n            form[key].setValue(0);\r\n            break;\r\n          case 'boolean':\r\n            form[key].setValue(false);\r\n            break;\r\n          default:\r\n            form[key].setValue('');\r\n            break;\r\n        }\r\n      }\r\n    });\r\n    return formulario.getRawValue();\r\n  }\r\n\r\n  sortArray(data: Array<any>, key: string): Array<any> {\r\n    return data.sort((a, b) => (a[key] > b[key]) ? 1 : -1);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { MBAAS_ROUTING, MBAAS_STEPS } from '../mbaas.route.const';\r\nimport { AccessProcessGuard } from '../core/guard/access-process.guard';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'beneficios',\r\n    loadChildren: () => import('./beneficios/beneficios.module').then(mod => mod.BeneficiosModule),\r\n    canLoad: [\r\n      // AccessProcessGuard\r\n    ],\r\n    data: {\r\n      child: [\r\n        MBAAS_STEPS.BEN001.STEP\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    path: 'evaluador',\r\n    loadChildren: () => import('./evaluador/evaluador.module').then(mod => mod.EvaluadorModule),\r\n    canLoad: [\r\n      // AccessProcessGuard\r\n    ],\r\n    data: {\r\n      child: [\r\n        MBAAS_STEPS.EVA001.STEP,\r\n        MBAAS_STEPS.EVA002.STEP\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    path: 'compra-cartera',\r\n    loadChildren: () => import('./compra-cartera/compra-cartera.module').then(mod => mod.CompraCarteraModule),\r\n    canLoad: [\r\n      // AccessProcessGuard\r\n    ],\r\n    data: {\r\n      child: [\r\n        MBAAS_STEPS.CCC001.STEP,\r\n        MBAAS_STEPS.CCC002.STEP,\r\n        MBAAS_STEPS.CCC003.STEP\r\n      ]\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class TmccRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TmccRoutingModule } from './tmcc-routing.module';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { BaseComponent } from './base/base.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [BaseComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TmccRoutingModule,\r\n  ],\r\n  providers: []\r\n})\r\nexport class TmccModule { }\r\n"],"sourceRoot":"webpack:///","file":"tmcc-tmcc-module-es5.js"}